{"ast":null,"code":"var _jsxFileName = \"/Users/subirdey/Desktop/intrack/frontend/src/components/Auth/ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { Loader } from \"semantic-ui-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  requiredRole = null\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    user,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {\n      active: true,\n      children: \"Checking authentication...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Check role-based access\n  if (requiredRole && (user === null || user === void 0 ? void 0 : user.role) !== requiredRole) {\n    if ((user === null || user === void 0 ? void 0 : user.role) === \"admin\") {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/admin\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/qc-manager\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 14\n      }, this);\n    }\n  }\n  return children;\n};\n_s(ProtectedRoute, \"7q0flPEpi0wJibJzdagPdtYRDq8=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","useAuth","Loader","jsxDEV","_jsxDEV","ProtectedRoute","children","requiredRole","_s","isAuthenticated","user","loading","active","fileName","_jsxFileName","lineNumber","columnNumber","to","replace","role","_c","$RefreshReg$"],"sources":["/Users/subirdey/Desktop/intrack/frontend/src/components/Auth/ProtectedRoute.js"],"sourcesContent":["import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { Loader } from \"semantic-ui-react\";\n\nconst ProtectedRoute = ({ children, requiredRole = null }) => {\n  const { isAuthenticated, user, loading } = useAuth();\n\n  if (loading) {\n    return <Loader active>Checking authentication...</Loader>;\n  }\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  // Check role-based access\n  if (requiredRole && user?.role !== requiredRole) {\n    if (user?.role === \"admin\") {\n      return <Navigate to=\"/admin\" replace />;\n    } else {\n      return <Navigate to=\"/qc-manager\" replace />;\n    }\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,OAAO,QAAQ,4BAA4B;AACpD,SAASC,MAAM,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,YAAY,GAAG;AAAK,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM;IAAEC,eAAe;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGV,OAAO,CAAC,CAAC;EAEpD,IAAIU,OAAO,EAAE;IACX,oBAAOP,OAAA,CAACF,MAAM;MAACU,MAAM;MAAAN,QAAA,EAAC;IAA0B;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAC3D;EAEA,IAAI,CAACP,eAAe,EAAE;IACpB,oBAAOL,OAAA,CAACJ,QAAQ;MAACiB,EAAE,EAAC,QAAQ;MAACC,OAAO;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACzC;;EAEA;EACA,IAAIT,YAAY,IAAI,CAAAG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAKZ,YAAY,EAAE;IAC/C,IAAI,CAAAG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,IAAI,MAAK,OAAO,EAAE;MAC1B,oBAAOf,OAAA,CAACJ,QAAQ;QAACiB,EAAE,EAAC,QAAQ;QAACC,OAAO;MAAA;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACzC,CAAC,MAAM;MACL,oBAAOZ,OAAA,CAACJ,QAAQ;QAACiB,EAAE,EAAC,aAAa;QAACC,OAAO;MAAA;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAC9C;EACF;EAEA,OAAOV,QAAQ;AACjB,CAAC;AAACE,EAAA,CArBIH,cAAc;EAAA,QACyBJ,OAAO;AAAA;AAAAmB,EAAA,GAD9Cf,cAAc;AAuBpB,eAAeA,cAAc;AAAC,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}