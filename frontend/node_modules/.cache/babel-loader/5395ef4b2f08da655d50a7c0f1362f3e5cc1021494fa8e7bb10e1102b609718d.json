{"ast":null,"code":"var _jsxFileName = \"/Users/subirdey/Desktop/intrack/frontend/src/contexts/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nconst DEMO_USERS = [{\n  email: \"admin@demo.com\",\n  password: \"admiiin123\",\n  role: \"admin\",\n  name: \"Demo Admin\"\n}, {\n  email: \"qc@demo.com\",\n  password: \"qc123\",\n  role: \"qc_manager\",\n  name: \"Demo QC\"\n}];\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(() => {\n    const saved = localStorage.getItem(\"user\");\n    return saved ? JSON.parse(saved) : null;\n  });\n  const [error, setError] = useState(null);\n  const login = (email, password) => {\n    const found = DEMO_USERS.find(u => u.email === email && u.password === password);\n    if (found) {\n      localStorage.setItem(\"user\", JSON.stringify(found));\n      setUser(found);\n      setError(null);\n      return {\n        success: true\n      };\n    } else {\n      setError(\"Invalid email or password\");\n      return {\n        success: false,\n        message: \"Invalid email or password\"\n      };\n    }\n  };\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    setUser(null);\n  };\n  const register = () => ({\n    success: false,\n    message: \"Registration disabled\"\n  });\n  const value = {\n    user,\n    error,\n    login,\n    logout,\n    register,\n    isAuthenticated: !!user,\n    isAdmin: (user === null || user === void 0 ? void 0 : user.role) === \"admin\",\n    isQCManager: (user === null || user === void 0 ? void 0 : user.role) === \"qc_manager\"\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n};\n_s(AuthProvider, \"fRp1UJCPtLGvAJJPa6yL64U5rIQ=\");\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","AuthContext","DEMO_USERS","email","password","role","name","AuthProvider","children","_s","user","setUser","saved","localStorage","getItem","JSON","parse","error","setError","login","found","find","u","setItem","stringify","success","message","logout","removeItem","register","value","isAuthenticated","isAdmin","isQCManager","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","context","Error","$RefreshReg$"],"sources":["/Users/subirdey/Desktop/intrack/frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\n\nconst AuthContext = createContext();\n\nconst DEMO_USERS = [\n  {\n    email: \"admin@demo.com\",\n    password: \"admiiin123\",\n    role: \"admin\",\n    name: \"Demo Admin\",\n  },\n  {\n    email: \"qc@demo.com\",\n    password: \"qc123\",\n    role: \"qc_manager\",\n    name: \"Demo QC\",\n  },\n];\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(() => {\n    const saved = localStorage.getItem(\"user\");\n    return saved ? JSON.parse(saved) : null;\n  });\n  const [error, setError] = useState(null);\n\n  const login = (email, password) => {\n    const found = DEMO_USERS.find(\n      (u) => u.email === email && u.password === password\n    );\n    if (found) {\n      localStorage.setItem(\"user\", JSON.stringify(found));\n      setUser(found);\n      setError(null);\n      return { success: true };\n    } else {\n      setError(\"Invalid email or password\");\n      return { success: false, message: \"Invalid email or password\" };\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    setUser(null);\n  };\n\n  const register = () => ({ success: false, message: \"Registration disabled\" });\n\n  const value = {\n    user,\n    error,\n    login,\n    logout,\n    register,\n    isAuthenticated: !!user,\n    isAdmin: user?.role === \"admin\",\n    isQCManager: user?.role === \"qc_manager\",\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}